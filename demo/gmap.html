<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gmap</title>
    
    <style>
        html,body,.wrapper,#viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }
        .wrapper{
            display: flex;
        }
        #gmap {
            width: 50%;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div id="gmap"></div>
        <div id="viewDiv"></div>
    </div>

</body>

<script src="./init.js"></script>
<script src="./googleMap.js"></script>

<script>
    (async ()=>{
        
        // create map
        const InitIns = new init.Init()
        const {view,map} = await InitIns.create2D({
            basemap:'topo'
        },{
            container:"viewDiv",
            extent:{
                xmax: "13475726.80897781",
                xmin: "13456254.47602219",
                ymax: "2858002.702937889",
                ymin: "2840097.3290621107",
                spatialReference:{
                    wkid: 3857
                },
            },
            spatialReference:{
                wkid: 3857
            }
        });
        
        console.log(googleMap)
        
        const googleMapIns = await googleMap.GoogleMaps.getInstance(view,map)
        const container = await googleMapIns.wakeUp()
        
        gmap.appendChild(container)

    })();
</script>

</html>